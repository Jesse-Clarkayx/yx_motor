---

title: files

keywords: fastai
sidebar: home_sidebar

summary: "Easily upload, download, and manage files on Server."
description: "Easily upload, download, and manage files on Server."
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 05_files.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h2 id="Files" class="doc_header"><code>class</code> <code>Files</code><a href="" class="source_link" style="float:right">[source]</a></h2><blockquote><p><code>Files</code>(<strong><code>api</code></strong>:<a href="/yx_motor/api#API"><code>API</code></a>)</p>
</blockquote>
<p>Class for handling AAH files endpoints.</p>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Examples">Examples<a class="anchor-link" href="#Examples"> </a></h2><p><strong>Note</strong>:
The files commands are intended to be called by users through the Client class.  Below, you will see that to accommodate this, we are creating the files object the same way the Client class does, by passing in an authenticated API object.</p>
<p>In normal practice, a user will simply create a client object, and be able to call <code>client.files.download_file('xxxxxx-xxxxx')</code>.</p>
<p>However, for this documentation, we are calling the files object directly to better demonstrate the Files class in an isolated fashion.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Download-Files-Example">Download Files Example<a class="anchor-link" href="#Download-Files-Example"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Files.download_file" class="doc_header"><code>Files.download_file</code><a href="__main__.py#L15" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Files.download_file</code>(<strong><code>file_uuid</code></strong>:<code>str</code>, <strong><code>download_path</code></strong>:<code>str</code>, <strong><code>version</code></strong>:<code>int</code>=<em><code>None</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The download_file method allows a user to pass in the unique identifier for the file, along with the path they wish to download the file to on the client machine.  The file will be downloaded and saved to the path specified.</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li>file_uuid: The VFS unique identifier for the file the user wishes to download.</li>
<li>download_path: The path on the user's local file system which they wish the file to be persisted to once it is downloaded.</li>
<li>version: Optional.  The version of the VFS asset the user wishes to donwload.  Defaults to latest version if not specified.  TODO: Need to double check this statement.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Initialize the files object the same way the Client object does.</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">Files</span><span class="p">(</span><span class="n">example_client</span><span class="o">.</span><span class="n">api</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Below is the unique identifier for the file we wish to download from the Alteryx Analytics Hub's Virtual File System (VFS).</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">asset_id</span> <span class="o">=</span> <span class="s2">&quot;890fbbe9-1dd4-447f-96b2-b0e8f0b246ef&quot;</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Next, we will trigger the method.  To better illustrate what the download_file method does, we are going to capture the response.  It is important to note that this is not necessary.  Simply calling the <code>files.download_file</code> command is all that is necessary to successfully download a file to the specified path.</p>
<p>First, let's show the contents of the directory we wish to download the file to.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>dir example_downloads
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre> Volume in drive C is Windows
 Volume Serial Number is AC09-504E

 Directory of C:\projects\yx_motor\example_downloads

04/22/2020  01:01 PM    &lt;DIR&gt;          .
04/22/2020  01:01 PM    &lt;DIR&gt;          ..
               0 File(s)              0 bytes
               2 Dir(s)  698,796,560,384 bytes free
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As we can see, the directory is currently empty.</p>
<p>Next, let's trigger the download_file command.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span><span class="n">file_uuid</span><span class="o">=</span><span class="n">asset_id</span><span class="p">,</span>
                               <span class="n">download_path</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;example_downloads/aah_workflow.yxmd&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>GET sent to: https://test.aep-mono.devops.alteryx.com/api/v1/files/content?id=890fbbe9-1dd4-447f-96b2-b0e8f0b246ef
with headers: {&#39;User-Agent&#39;: &#39;python-requests/2.23.0&#39;, &#39;Accept-Encoding&#39;: &#39;gzip,deflate&#39;, &#39;Accept&#39;: &#39;*/*&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Content-Type&#39;: &#39;application/json&#39;, &#39;Accept-Language&#39;: &#39;en-US,en;q=0.5&#39;, &#39;Cookie&#39;: &#39;ayxSession=s%3A1f62c63b-d90e-42da-a0be-a5dd1778f25c.LkDz0OVkusOnSNF17HPBWrenXWI7ksWopso52HIY3No&#39;}
Response Status: 200
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now let's check the same directory from above.  We will inspect the response object after this.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">!</span>dir example_downloads
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre> Volume in drive C is Windows
 Volume Serial Number is AC09-504E

 Directory of C:\projects\yx_motor\example_downloads

04/22/2020  01:05 PM    &lt;DIR&gt;          .
04/22/2020  01:05 PM    &lt;DIR&gt;          ..
04/22/2020  01:05 PM             3,200 aah_workflow.yxmd
               1 File(s)          3,200 bytes
               2 Dir(s)  698,800,398,336 bytes free
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you can see, the workflow has been downloaded to the specified location.</p>
<p>Now, let's inspect the response object.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">content</span> <span class="c1"># The requested file is attached to the response as a binary object.</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>b&#39;&lt;?xml version=&#34;1.0&#34;?&gt;\n&lt;AlteryxDocument yxmdVer=&#34;2019.1&#34;&gt;\n  &lt;Nodes&gt;\n    &lt;Node ToolID=&#34;2&#34;&gt;\n      &lt;GuiSettings Plugin=&#34;AlteryxBasePluginsGui.GenerateRows.GenerateRows&#34;&gt;\n        &lt;Position x=&#34;318&#34; y=&#34;258&#34; /&gt;\n      &lt;/GuiSettings&gt;\n      &lt;Properties&gt;\n        &lt;Configuration&gt;\n          &lt;UpdateField value=&#34;False&#34; /&gt;\n          &lt;UpdateField_Name /&gt;\n          &lt;CreateField_Name&gt;RowCount&lt;/CreateField_Name&gt;\n          &lt;CreateField_Type&gt;Int32&lt;/CreateField_Type&gt;\n          &lt;CreateField_Size&gt;4&lt;/CreateField_Size&gt;\n          &lt;Expression_Init&gt;1&lt;/Expression_Init&gt;\n          &lt;Expression_Cond&gt;RowCount &amp;lt;= 100000000&lt;/Expression_Cond&gt;\n          &lt;Expression_Loop&gt;RowCount + 1&lt;/Expression_Loop&gt;\n        &lt;/Configuration&gt;\n        &lt;Annotation DisplayMode=&#34;0&#34;&gt;\n          &lt;Name /&gt;\n          &lt;DefaultAnnotationText /&gt;\n          &lt;Left value=&#34;False&#34; /&gt;\n        &lt;/Annotation&gt;\n      &lt;/Properties&gt;\n      &lt;EngineSettings EngineDll=&#34;AlteryxBasePluginsEngine.dll&#34; EngineDllEntryPoint=&#34;AlteryxGenerateRows&#34; /&gt;\n    &lt;/Node&gt;\n    &lt;Node ToolID=&#34;3&#34;&gt;\n      &lt;GuiSettings Plugin=&#34;AlteryxBasePluginsGui.DbFileOutput.DbFileOutput&#34;&gt;\n        &lt;Position x=&#34;438&#34; y=&#34;258&#34; /&gt;\n      &lt;/GuiSettings&gt;\n      &lt;Properties&gt;\n        &lt;Configuration&gt;\n          &lt;File FileFormat=&#34;19&#34; MaxRecords=&#34;&#34;&gt;output.yxdb&lt;/File&gt;\n          &lt;Passwords /&gt;\n          &lt;FormatSpecificOptions&gt;\n            &lt;NoSpatialIndex&gt;False&lt;/NoSpatialIndex&gt;\n            &lt;SaveSource&gt;True&lt;/SaveSource&gt;\n          &lt;/FormatSpecificOptions&gt;\n          &lt;MultiFile value=&#34;False&#34; /&gt;\n        &lt;/Configuration&gt;\n        &lt;Annotation DisplayMode=&#34;0&#34;&gt;\n          &lt;Name /&gt;\n          &lt;DefaultAnnotationText&gt;output.yxdb&lt;/DefaultAnnotationText&gt;\n          &lt;Left value=&#34;False&#34; /&gt;\n        &lt;/Annotation&gt;\n        &lt;Dependencies&gt;\n          &lt;Implicit /&gt;\n        &lt;/Dependencies&gt;\n      &lt;/Properties&gt;\n      &lt;EngineSettings EngineDll=&#34;AlteryxBasePluginsEngine.dll&#34; EngineDllEntryPoint=&#34;AlteryxDbFileOutput&#34; /&gt;\n    &lt;/Node&gt;\n  &lt;/Nodes&gt;\n  &lt;Connections&gt;\n    &lt;Connection&gt;\n      &lt;Origin ToolID=&#34;2&#34; Connection=&#34;Output&#34; /&gt;\n      &lt;Destination ToolID=&#34;3&#34; Connection=&#34;Input&#34; /&gt;\n    &lt;/Connection&gt;\n  &lt;/Connections&gt;\n  &lt;Properties&gt;\n    &lt;Memory default=&#34;True&#34; /&gt;\n    &lt;GlobalRecordLimit value=&#34;0&#34; /&gt;\n    &lt;TempFiles default=&#34;True&#34; /&gt;\n    &lt;Annotation on=&#34;True&#34; includeToolName=&#34;False&#34; /&gt;\n    &lt;ConvErrorLimit value=&#34;10&#34; /&gt;\n    &lt;ConvErrorLimit_Stop value=&#34;False&#34; /&gt;\n    &lt;CancelOnError value=&#34;False&#34; /&gt;\n    &lt;DisableBrowse value=&#34;False&#34; /&gt;\n    &lt;EnablePerformanceProfiling value=&#34;False&#34; /&gt;\n    &lt;DisableAllOutput value=&#34;False&#34; /&gt;\n    &lt;ShowAllMacroMessages value=&#34;False&#34; /&gt;\n    &lt;ShowConnectionStatusIsOn value=&#34;True&#34; /&gt;\n    &lt;ShowConnectionStatusOnlyWhenRunning value=&#34;True&#34; /&gt;\n    &lt;ZoomLevel value=&#34;0&#34; /&gt;\n    &lt;LayoutType&gt;Horizontal&lt;/LayoutType&gt;\n    &lt;MetaInfo&gt;\n      &lt;NameIsFileName value=&#34;True&#34; /&gt;\n      &lt;Name&gt;MillionsOfRows&lt;/Name&gt;\n      &lt;Description /&gt;\n      &lt;RootToolName /&gt;\n      &lt;ToolVersion /&gt;\n      &lt;ToolInDb value=&#34;False&#34; /&gt;\n      &lt;CategoryName /&gt;\n      &lt;SearchTags /&gt;\n      &lt;Author /&gt;\n      &lt;Company /&gt;\n      &lt;Copyright /&gt;\n      &lt;DescriptionLink actual=&#34;&#34; displayed=&#34;&#34; /&gt;\n      &lt;Example&gt;\n        &lt;Description /&gt;\n        &lt;File /&gt;\n      &lt;/Example&gt;\n    &lt;/MetaInfo&gt;\n    &lt;Events&gt;\n      &lt;Enabled value=&#34;True&#34; /&gt;\n    &lt;/Events&gt;\n  &lt;/Properties&gt;\n&lt;/AlteryxDocument&gt;&#39;</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Here, we see that the binary object is indeed an Alteryx workflow.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Upload-Files-Example">Upload Files Example<a class="anchor-link" href="#Upload-Files-Example"> </a></h3>
</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Files.upload_file" class="doc_header"><code>Files.upload_file</code><a href="__main__.py#L24" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Files.upload_file</code>(<strong><code>filename</code></strong>:<code>str</code>, <strong><code>upload_path</code></strong>:<code>str</code>, <strong><code>description</code></strong>:<code>str</code>=<em><code>None</code></em>, <strong><code>conflict_action</code></strong>:<code>str</code>=<em><code>'CREATE_COPY'</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The upload_file method allows a user to upload a file from their local filesytem to the Alteryx Analytics Hub's Virtual File System (VFS).</p>
<p>TODO: Need to rename the filename argument to file_path to avoid confusion.</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li>filename: Path to the file on the user's local file system</li>
<li>upload_path: The path on the AAH VFS the user wishes the file to be uploaded to.</li>
<li>description: Optional.  Description the user wants to be attached to the file in the VFS.</li>
<li>conflict_action: Defaults to 'CREATE_COPY'.  One of 'CREATE_COPY'| 'MERGE'<ul>
<li>CREATE_COPY: If file already exists at specified path, a copy is created.</li>
<li>MERGE: If file already exists, new version is created at same location.</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Initialize the files object the same way the Client object does.</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">Files</span><span class="p">(</span><span class="n">example_client</span><span class="o">.</span><span class="n">api</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Simple-Upload-Example">Simple Upload Example<a class="anchor-link" href="#Simple-Upload-Example"> </a></h4><p>Let's upload a yxzp file in our local filesystem to a location on Alteryx Analytics Hub's VFS, specified via the upload_path parameter.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;test.yxzp&quot;</span><span class="p">,</span>
                             <span class="n">upload_path</span><span class="o">=</span><span class="s2">&quot;/Workspaces/Public/example_1.yxzp&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>POST sent to: https://test.aep-mono.devops.alteryx.com/api/v1/files/
with headers: {&#39;User-Agent&#39;: &#39;python-requests/2.23.0&#39;, &#39;Accept-Encoding&#39;: &#39;gzip,deflate&#39;, &#39;Accept&#39;: &#39;*/*&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Content-Type&#39;: &#39;application/json&#39;, &#39;Accept-Language&#39;: &#39;en-US,en;q=0.5&#39;, &#39;path&#39;: &#39;/Workspaces/Public/example_1.yxzp&#39;, &#39;conflict_action&#39;: &#39;CREATE_COPY&#39;, &#39;Cookie&#39;: &#39;ayxSession=s%3Aa4e6c322-5a8d-4909-ad85-0f72de9e19cf.jbxJCEZNLq3mmxW0RWJbCiayPjQvxEj0sP2moTAkFZs&#39;, &#39;Content-Length&#39;: &#39;2176&#39;}
Response Status: 200
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;fileName&#39;: &#39;example_1.yxzp&#39;,
 &#39;extension&#39;: &#39;yxzp&#39;,
 &#39;inherits&#39;: True,
 &#39;isHidden&#39;: False,
 &#39;onlyOwnerShares&#39;: False,
 &#39;path&#39;: &#39;/Workspaces/Public/example_1.yxzp&#39;,
 &#39;folderType&#39;: None,
 &#39;version&#39;: 1,
 &#39;created&#39;: &#39;2020-04-28T15:56:36.357Z&#39;,
 &#39;versionCreated&#39;: &#39;2020-04-28T15:56:36.357Z&#39;,
 &#39;maxVersion&#39;: 1,
 &#39;links&#39;: None,
 &#39;location&#39;: &#39;&#39;,
 &#39;uuid&#39;: &#39;51cc3f05-2bed-4854-83e4-905465af9957&#39;,
 &#39;metaHash&#39;: &#39;d214d65ab55a2a1c73de7c90fcc1aecfc28dd88dbec71cdeaeb3ffb1ef170053&#39;,
 &#39;metadata&#39;: {&#39;yxType&#39;: &#39;WORKFLOW_APP&#39;},
 &#39;contentHash&#39;: &#39;b7960c08c75e5e4e2bcf5fa32582eee75a07560554c6993c603759a8a2ce2f5f&#39;,
 &#39;contentId&#39;: &#39;6925a8c7-09f8-4dea-b365-b117130d597a&#39;,
 &#39;contentSize&#39;: 2176,
 &#39;entryOwner&#39;: {&#39;avatar&#39;: None,
  &#39;email&#39;: &#39;siteadmin3@example.com&#39;,
  &#39;firstName&#39;: &#39;Seeded&#39;,
  &#39;id&#39;: &#39;0625e3e2-10fb-4df6-99c6-4e38712c9c36&#39;,
  &#39;lastName&#39;: &#39;siteadmin3&#39;,
  &#39;name&#39;: &#39;Seeded siteadmin3&#39;,
  &#39;userName&#39;: &#39;siteadmin3&#39;},
 &#39;md5Hash&#39;: &#39;1316e622c535fcfef109f75484910f38&#39;,
 &#39;assetCategory&#39;: &#39;WORKFLOW_APP&#39;,
 &#39;onlySiteAdminShares&#39;: False}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Above, we can see that the response shows the file was successfully uploaded to the upload path we specified.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Upload-with-duplicate-file-example">Upload with duplicate file example<a class="anchor-link" href="#Upload-with-duplicate-file-example"> </a></h4><p>What happens if we upload the same file twice?  Let's run the same line of code a second time to see.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;test.yxzp&quot;</span><span class="p">,</span>
                             <span class="n">upload_path</span><span class="o">=</span><span class="s2">&quot;/Workspaces/Public/example_1.yxzp&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>POST sent to: https://test.aep-mono.devops.alteryx.com/api/v1/files/
with headers: {&#39;User-Agent&#39;: &#39;python-requests/2.23.0&#39;, &#39;Accept-Encoding&#39;: &#39;gzip,deflate&#39;, &#39;Accept&#39;: &#39;*/*&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Content-Type&#39;: &#39;application/json&#39;, &#39;Accept-Language&#39;: &#39;en-US,en;q=0.5&#39;, &#39;path&#39;: &#39;/Workspaces/Public/example_1.yxzp&#39;, &#39;conflict_action&#39;: &#39;CREATE_COPY&#39;, &#39;Cookie&#39;: &#39;ayxSession=s%3A9da4a129-5363-4127-8554-8a7c54202951.bPxpXPlo4zYsmjVBXhKuQ%2BYu2n5KFpD36z7pkSrbjW4&#39;, &#39;Content-Length&#39;: &#39;2176&#39;}
Response Status: 200
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;fileName&#39;: &#39;example_128129.yxzp&#39;,
 &#39;extension&#39;: &#39;yxzp&#39;,
 &#39;inherits&#39;: True,
 &#39;isHidden&#39;: False,
 &#39;onlyOwnerShares&#39;: False,
 &#39;path&#39;: &#39;/Workspaces/Public/example_128129.yxzp&#39;,
 &#39;folderType&#39;: None,
 &#39;version&#39;: 1,
 &#39;created&#39;: &#39;2020-04-27T18:42:54.938Z&#39;,
 &#39;versionCreated&#39;: &#39;2020-04-27T18:42:54.938Z&#39;,
 &#39;maxVersion&#39;: 1,
 &#39;links&#39;: None,
 &#39;location&#39;: &#39;&#39;,
 &#39;uuid&#39;: &#39;314a8283-0bb7-43b8-84b7-70d5fa734c6f&#39;,
 &#39;metaHash&#39;: &#39;d214d65ab55a2a1c73de7c90fcc1aecfc28dd88dbec71cdeaeb3ffb1ef170053&#39;,
 &#39;metadata&#39;: {&#39;yxType&#39;: &#39;WORKFLOW_APP&#39;},
 &#39;contentHash&#39;: &#39;b7960c08c75e5e4e2bcf5fa32582eee75a07560554c6993c603759a8a2ce2f5f&#39;,
 &#39;contentId&#39;: &#39;52d6897a-a07c-47aa-a66e-e85dfb2f6399&#39;,
 &#39;contentSize&#39;: 2176,
 &#39;entryOwner&#39;: {&#39;avatar&#39;: None,
  &#39;email&#39;: &#39;siteadmin3@example.com&#39;,
  &#39;firstName&#39;: &#39;Seeded&#39;,
  &#39;id&#39;: &#39;977d6d2d-a6be-4533-9d29-c8936138b833&#39;,
  &#39;lastName&#39;: &#39;siteadmin3&#39;,
  &#39;name&#39;: &#39;Seeded siteadmin3&#39;,
  &#39;userName&#39;: &#39;siteadmin3&#39;},
 &#39;md5Hash&#39;: &#39;1316e622c535fcfef109f75484910f38&#39;,
 &#39;assetCategory&#39;: &#39;WORKFLOW_APP&#39;,
 &#39;onlySiteAdminShares&#39;: False}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you look above, you see that a copy of the file was created in the same location, but now the file is named example_1(1).yxzp.</p>
<p>NOTE: It WAS named that in the payload.  Update at noon on 4/27/20 seems to have broken this, so that the UI shows the example_1(1) name, but the vfs path appears to now have a uid appended to it.</p>
<p>This is because the default conflict action is 'CREATE_COPY'.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Upload-a-file-with-MERGE-command">Upload a file with MERGE command<a class="anchor-link" href="#Upload-a-file-with-MERGE-command"> </a></h4><p>Let's now repeat the call, but this time let's specify 'MERGE' as the conflict action.  Also, we're changing the source of the file to a larger one, to ensure that the contentSize property in the JSON response proves that the file has been updated.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">upload_file</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="sa">r</span><span class="s2">&quot;czech_devops.yxmd&quot;</span><span class="p">,</span>
                             <span class="n">upload_path</span><span class="o">=</span><span class="s2">&quot;/Workspaces/Public/example_1.yxzp&quot;</span><span class="p">,</span>
                             <span class="n">conflict_action</span><span class="o">=</span><span class="s1">&#39;MERGE&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>POST sent to: https://test.aep-mono.devops.alteryx.com/api/v1/files/
with headers: {&#39;User-Agent&#39;: &#39;python-requests/2.23.0&#39;, &#39;Accept-Encoding&#39;: &#39;gzip,deflate&#39;, &#39;Accept&#39;: &#39;*/*&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Content-Type&#39;: &#39;application/json&#39;, &#39;Accept-Language&#39;: &#39;en-US,en;q=0.5&#39;, &#39;path&#39;: &#39;/Workspaces/Public/example_1.yxzp&#39;, &#39;conflict_action&#39;: &#39;MERGE&#39;, &#39;Cookie&#39;: &#39;ayxSession=s%3A9da4a129-5363-4127-8554-8a7c54202951.bPxpXPlo4zYsmjVBXhKuQ%2BYu2n5KFpD36z7pkSrbjW4&#39;, &#39;Content-Length&#39;: &#39;4055&#39;}
Response Status: 200
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;fileName&#39;: &#39;example_1.yxzp&#39;,
 &#39;extension&#39;: &#39;yxzp&#39;,
 &#39;inherits&#39;: True,
 &#39;isHidden&#39;: False,
 &#39;onlyOwnerShares&#39;: False,
 &#39;path&#39;: &#39;/Workspaces/Public/example_1.yxzp&#39;,
 &#39;folderType&#39;: None,
 &#39;version&#39;: 2,
 &#39;created&#39;: &#39;2020-04-27T18:42:21.595Z&#39;,
 &#39;versionCreated&#39;: &#39;2020-04-27T22:44:26.724Z&#39;,
 &#39;maxVersion&#39;: 2,
 &#39;links&#39;: None,
 &#39;location&#39;: &#39;&#39;,
 &#39;uuid&#39;: &#39;d0c39ee9-4725-49ed-966b-c03dbf33005d&#39;,
 &#39;metaHash&#39;: &#39;105263d9a1f6534fbbbb9abed4c9b7815c145c6792fcf66df7bb5576c6474af1&#39;,
 &#39;metadata&#39;: {&#39;tools&#39;: [],
  &#39;yxType&#39;: &#39;WORKFLOW&#39;,
  &#39;vfsInputs&#39;: {},
  &#39;workflowInfo&#39;: {&#39;isE2&#39;: False, &#39;modules&#39;: [&#39;Magic-8-Ball.yxmd&#39;]},
  &#39;packageAssets&#39;: [&#39;Magic-8-Ball.yxmd&#39;]},
 &#39;contentHash&#39;: &#39;c1d63578a41c19764af294616acac0f84c6aa40781496b643ebcbf644b79b642&#39;,
 &#39;contentId&#39;: &#39;b07087f3-3c39-4349-88f0-363f94afa570&#39;,
 &#39;contentSize&#39;: 4055,
 &#39;entryOwner&#39;: {&#39;avatar&#39;: None,
  &#39;email&#39;: &#39;siteadmin3@example.com&#39;,
  &#39;firstName&#39;: &#39;Seeded&#39;,
  &#39;id&#39;: &#39;977d6d2d-a6be-4533-9d29-c8936138b833&#39;,
  &#39;lastName&#39;: &#39;siteadmin3&#39;,
  &#39;name&#39;: &#39;Seeded siteadmin3&#39;,
  &#39;userName&#39;: &#39;siteadmin3&#39;},
 &#39;md5Hash&#39;: &#39;5d7daa67eb92d429e8b215654d9f52f9&#39;,
 &#39;assetCategory&#39;: &#39;WORKFLOW_APP&#39;,
 &#39;onlySiteAdminShares&#39;: False}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In the payload above, you can see that the version of the file is now 2, and that it's contentSize property is now 4055, bigger than the original 2176 value.</p>
<p>This demonstrates that the file has indeed been updated in place, with a versioned copy.</p>
<p>This MERGE command has a very powerful property:</p>
<p>It uses a "content hash" on the file being uploaded to detect if the file has actually changed.  If we run the above command again, with the same file, we will see that the file's version remains the same.</p>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Extract the file uuid from the response to demonstrate the get versions module later.</span>
<span class="n">uploaded_file_uuid</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()[</span><span class="s1">&#39;uuid&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Files.get_file_versions" class="doc_header"><code>Files.get_file_versions</code><a href="__main__.py#L56" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Files.get_file_versions</code>(<strong><code>file_uuid</code></strong>:<code>str</code>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The get_file_versions method returns a list of all of the versions for a given VFS asset.</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li>file_uuid: VFS Asset unique identifier for the VFS file you want to get versions for.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Initialize the files object the same way the Client object does.</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">Files</span><span class="p">(</span><span class="n">example_client</span><span class="o">.</span><span class="n">api</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">get_file_versions</span><span class="p">(</span><span class="n">file_uuid</span><span class="o">=</span><span class="n">uploaded_file_uuid</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>GET sent to: https://test.aep-mono.devops.alteryx.com/api/v1/files/versions/?fileUuid=d0c39ee9-4725-49ed-966b-c03dbf33005d
with headers: {&#39;User-Agent&#39;: &#39;python-requests/2.23.0&#39;, &#39;Accept-Encoding&#39;: &#39;gzip,deflate&#39;, &#39;Accept&#39;: &#39;*/*&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Content-Type&#39;: &#39;application/json&#39;, &#39;Accept-Language&#39;: &#39;en-US,en;q=0.5&#39;, &#39;Cookie&#39;: &#39;ayxSession=s%3A9da4a129-5363-4127-8554-8a7c54202951.bPxpXPlo4zYsmjVBXhKuQ%2BYu2n5KFpD36z7pkSrbjW4&#39;}
Response Status: 200
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>[{&#39;version&#39;: 2,
  &#39;metadata&#39;: {&#39;tools&#39;: [],
   &#39;yxType&#39;: &#39;WORKFLOW&#39;,
   &#39;vfsInputs&#39;: {},
   &#39;workflowInfo&#39;: {&#39;isE2&#39;: False, &#39;modules&#39;: [&#39;Magic-8-Ball.yxmd&#39;]},
   &#39;packageAssets&#39;: [&#39;Magic-8-Ball.yxmd&#39;]},
  &#39;comment&#39;: None,
  &#39;creator&#39;: {&#39;avatar&#39;: None,
   &#39;email&#39;: &#39;siteadmin3@example.com&#39;,
   &#39;firstName&#39;: &#39;Seeded&#39;,
   &#39;id&#39;: &#39;977d6d2d-a6be-4533-9d29-c8936138b833&#39;,
   &#39;lastName&#39;: &#39;siteadmin3&#39;,
   &#39;name&#39;: &#39;Seeded siteadmin3&#39;},
  &#39;owner&#39;: {&#39;avatar&#39;: None,
   &#39;email&#39;: &#39;siteadmin3@example.com&#39;,
   &#39;firstName&#39;: &#39;Seeded&#39;,
   &#39;id&#39;: &#39;977d6d2d-a6be-4533-9d29-c8936138b833&#39;,
   &#39;lastName&#39;: &#39;siteadmin3&#39;,
   &#39;name&#39;: &#39;Seeded siteadmin3&#39;},
  &#39;createdAt&#39;: &#39;2020-04-27T22:44:26.724Z&#39;},
 {&#39;version&#39;: 1,
  &#39;metadata&#39;: {&#39;tools&#39;: [],
   &#39;yxType&#39;: &#39;WORKFLOW&#39;,
   &#39;vfsInputs&#39;: {},
   &#39;workflowInfo&#39;: {&#39;isE2&#39;: False, &#39;modules&#39;: [&#39;Magic-8-Ball.yxmd&#39;]},
   &#39;packageAssets&#39;: [&#39;Magic-8-Ball.yxmd&#39;]},
  &#39;comment&#39;: None,
  &#39;creator&#39;: {&#39;avatar&#39;: None,
   &#39;email&#39;: &#39;siteadmin3@example.com&#39;,
   &#39;firstName&#39;: &#39;Seeded&#39;,
   &#39;id&#39;: &#39;977d6d2d-a6be-4533-9d29-c8936138b833&#39;,
   &#39;lastName&#39;: &#39;siteadmin3&#39;,
   &#39;name&#39;: &#39;Seeded siteadmin3&#39;},
  &#39;owner&#39;: {&#39;avatar&#39;: None,
   &#39;email&#39;: &#39;siteadmin3@example.com&#39;,
   &#39;firstName&#39;: &#39;Seeded&#39;,
   &#39;id&#39;: &#39;977d6d2d-a6be-4533-9d29-c8936138b833&#39;,
   &#39;lastName&#39;: &#39;siteadmin3&#39;,
   &#39;name&#39;: &#39;Seeded siteadmin3&#39;},
  &#39;createdAt&#39;: &#39;2020-04-27T18:42:21.595Z&#39;}]</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

<div class="output_wrapper">
<div class="output">

<div class="output_area">


<div class="output_markdown rendered_html output_subarea ">
<h4 id="Files.delete_file" class="doc_header"><code>Files.delete_file</code><a href="__main__.py#L62" class="source_link" style="float:right">[source]</a></h4><blockquote><p><code>Files.delete_file</code>(<strong><code>asset_path</code></strong>:<code>str</code>, <strong><code>hard</code></strong>=<em><code>False</code></em>)</p>
</blockquote>

</div>

</div>

</div>
</div>

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The delete_file method deletes a given asset located at the specified asset path in the VFS. Optionally, the user can specify whether the delete is permanent (hard=True) or reversable (hard=False).</p>
<p><strong>Arguments</strong>:</p>
<ul>
<li>asset_path: The VFS path of the asset the user wants to delete.</li>
<li>hard: (Optional, defaults to False) If true, specifies a hard (permanent) delete. If false, the deleted asset can be restored.</li>
</ul>

</div>
</div>
</div>
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Initialize the files object the same way the Client object does.</span>
<span class="n">files</span> <span class="o">=</span> <span class="n">Files</span><span class="p">(</span><span class="n">example_client</span><span class="o">.</span><span class="n">api</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span> <span class="o">=</span> <span class="n">files</span><span class="o">.</span><span class="n">delete_file</span><span class="p">(</span><span class="n">asset_path</span><span class="o">=</span><span class="sa">r</span><span class="s1">&#39;/Workspaces/Public/example_1.yxzp&#39;</span><span class="p">,</span> 
                             <span class="n">hard</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>POST sent to: https://test.aep-mono.devops.alteryx.com/api/v1/files/remove
with headers: {&#39;User-Agent&#39;: &#39;python-requests/2.23.0&#39;, &#39;Accept-Encoding&#39;: &#39;gzip,deflate&#39;, &#39;Accept&#39;: &#39;*/*&#39;, &#39;Connection&#39;: &#39;keep-alive&#39;, &#39;Content-Type&#39;: &#39;application/json&#39;, &#39;Accept-Language&#39;: &#39;en-US,en;q=0.5&#39;, &#39;Cookie&#39;: &#39;ayxSession=s%3Aa4e6c322-5a8d-4909-ad85-0f72de9e19cf.jbxJCEZNLq3mmxW0RWJbCiayPjQvxEj0sP2moTAkFZs&#39;, &#39;Content-Length&#39;: &#39;53&#39;}
Response Status: 401
</pre>
</div>
</div>

</div>
</div>

</div>
    {% endraw %}

    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>{&#39;errors&#39;: [{&#39;code&#39;: &#39;USR_SESSION_INVALID&#39;, &#39;message&#39;: &#39;Session is invalid&#39;}]}</pre>
</div>

</div>

</div>
</div>

</div>
    {% endraw %}

</div>
 

